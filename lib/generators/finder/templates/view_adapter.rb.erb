require "delegate"
require "validators/date_validator"
require "validators/safe_html_validator"

class <%= class_name %>ViewAdapter < DocumentViewAdapter
  attributes = [<% @document_attributes.each do |attribute| %>
    :<%= attribute %>,<% end %>
  ]

  def self.model_name
    ActiveModel::Name.new(self, nil, "<%= class_name %>")
  end

  attributes.each do |attribute_name|
    define_method(attribute_name) do
      delegate_if_document_exists(attribute_name)
    end
  end

private

  def finder_schema
    SpecialistPublisherWiring.get(:<%= name.underscore %>_finder_schema)
  end
end
